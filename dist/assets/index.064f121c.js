const v=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function o(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=o(r);fetch(r.href,i)}};v();const l=["\u{1F970}","\u{1F643}","\u{1F929}","\u{1F92A}"],b=document.getElementsByClassName("timer")[0],E=2;let c=1,n=[],u=0,f=h();a("Game has started! Timer is ticking!");function d(t){if(document.getElementsByClassName("tries").length>0)document.getElementsByClassName("tries")[0].innerHTML=`You missed ${t} time${t>1?"s":""}`;else{const e=document.createElement("h2");e.classList.add("tries"),e.innerHTML=`You missed ${t} time${t>1?"s":""}`,document.body.append(e)}}for(let t=0;t<E;t++){const e=Array(l.length).fill().map((o,s)=>s);e.sort(()=>Math.random()-.5),e.forEach(o=>{const s=document.createElement("div");s.innerHTML=l[o],s.setAttribute("data-id",l[o]),s.setAttribute("class","card"),document.body.append(s)})}const g=document.getElementsByClassName("card");Array.from(g).forEach(t=>{t.addEventListener("click",e=>{if(t.classList.add("open"),n[0]==e.target||n[1]==e.target){a("Your are barking at the wrong tree :(");return}if(n.push(t),n.length==2)if(n[0].getAttribute("data-id")===n[1].getAttribute("data-id")&&L()){a("Game Won!"),p();return}else if(n[0].getAttribute("data-id")===n[1].getAttribute("data-id"))a("It's a match"),n=[],u++;else{if(c===3){d(c++),y();return}a("Try again"),d(c++),setTimeout(()=>{n[0].classList.remove("open"),n[1].classList.remove("open"),n=[]},1500)}})});function y(){a("Game over!"),p()}function L(){if(u===l.length-1)return!0}function a(t){const e=document.createElement("div");document.getElementsByClassName("message").length>0?document.getElementsByClassName("message")[0].innerHTML=t:(e.setAttribute("class","message"),e.innerHTML=`${t}`,document.body.append(e)),setTimeout(()=>{e.remove()},3e3)}function h(){const t=document.getElementsByClassName("timer")[0];let e=t.offsetWidth;const o=setInterval(s,1);function s(){e=e-.55,t.style.width=`${e}px`,e<0&&(e=0,clearInterval(o),y())}return o}function p(){setTimeout(()=>{clearInterval(f),b.style.width="100%",f=h(),n=[],c=1,d(0),u=0,a("New game started. Go, go, go!"),Array.from(g).forEach(t=>t.classList.remove("open"))},4e3),a("Resetting the game... Wait for it!")}
